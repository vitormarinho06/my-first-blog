

{% extends 'blog/base.html' %}
{% load static %}


{% block content %}
	<div class="col-md-12 col-lg-8 main-content">

    	<div class="row">

		{% for post in posts %}
			<div class="col-md-6">
				<a class="blog-entry element-animate" data-animate-effect="fadeIn" href="{% url 'post_detail' pk=post.pk %}">
					<img src="/media/{{ post.photo }}" alt="Image placeholder">
					<div class="blog-content-body">
						<div class="post-meta">
							<span class="date">{{ post.published_date }}</span>
							<h2>{{ post.title }}</h2>
						</div>
					</div>

				</a>
			</div>
		{% endfor %}

		</div>
	</div>

{% endblock %}

{% block pagination_block %}

	{% if posts.has_other_pages%}
		<ul class="pagination">
			{% if posts.has_previous %}
				<li><a href="?page={{ posts.previous_page_number }}">&laquo;</a></li>
			{% else %}
				<li class="disabled"><span>&laquo;</span></li>
			{% endif %}
			{% for i in posts.paginator.page_range %}
				{% if posts.number == i %}
					<li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
				{% else %}
					<li><a  class="page-link" href="?page={{ i }}">{{ i }}</a></li>
				{% endif %}
			{% endfor %}
			{% if posts.has_next %}
      			<li><a href="?page={{ posts.next_page_number }}">&raquo;</a></li>
		    {% else %}
		    	<li class="disabled"><span>&lt;</span></li>
		    {% endif %}
		</ul>
	{% endif %}

{% endblock %}


{% block carrousel %}
	<section class="site-section pt-5 pb-5">
        <div class="container">
          <div class="row">
            <div class="col-md-12">

              <div class="owl-carousel owl-theme home-slider">
				{% for post in posts|slice:":3" %}
					<div>
					  <a href="{% url 'post_detail' pk=post.pk %}" class="a-block d-flex align-items-center height-lg" style="background-image: url(/media/{{ post.photo }}); ">
					    <div class="text half-to-full">
					      <div class="post-meta">
					        <span class="mr-2">{{ post.published_date }}</span>
					      </div>
					      <h3>{{ post.title }}</h3>
					      <div>{{ post.text|truncatechars_html:160|safe }}</div>
					    </div>
					  </a>
					</div>
				{% endfor %}
			   </div>
              
            </div>
          </div>
          
        </div>
    </section>
{% endblock %}

